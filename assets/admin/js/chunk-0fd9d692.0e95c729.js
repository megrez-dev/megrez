(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fd9d692"],{"9a22":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PageView",[a("template",{slot:"header"},[a("div",{staticClass:"page-header-bar"},[a("div",{staticClass:"page-header-bar-text"},[a("span",{staticClass:"page-header-bar-title"},[t._v("基础设置")])]),a("span",{staticClass:"page-header-bar-operator"},[a("span",{staticClass:"page-header-bar-operator-item"},[a("t-button",{attrs:{theme:"primary",variant:"base"},on:{click:t.onClickSave}},[t._v("保存设置")])],1)])])]),a("template",{slot:"content"},[a("div",{staticClass:"settings-container"},[a("t-tabs",{attrs:{defaultValue:"basic"}},[a("t-tab-panel",{attrs:{value:"basic"},scopedSlots:t._u([{key:"label",fn:function(){return[a("icon",{staticStyle:{"margin-right":"4px"},attrs:{name:"setting"}}),t._v(" 基本设置 ")]},proxy:!0}])},[a("div",{staticClass:"settings-form-container"},[a("t-form",{ref:"form",attrs:{labelAlign:"top",colon:!0}},[a("t-form-item",{attrs:{label:"博客标题",name:"blogTitle"}},[a("t-input",{model:{value:t.settings.basic.blogTitle,callback:function(e){t.$set(t.settings.basic,"blogTitle",e)},expression:"settings.basic.blogTitle"}})],1),a("t-form-item",{attrs:{label:"博客简介",name:"blogDescription"}},[a("t-textarea",{attrs:{placeholder:"一句简短的话描述你的博客",autosize:{minRows:2}},model:{value:t.settings.basic.blogDescription,callback:function(e){t.$set(t.settings.basic,"blogDescription",e)},expression:"settings.basic.blogDescription"}})],1),a("t-form-item",{attrs:{label:"博客地址",name:"blogURL"}},[a("t-input",{attrs:{placeholder:"http://"},model:{value:t.settings.basic.blogURL,callback:function(e){t.$set(t.settings.basic,"blogURL",e)},expression:"settings.basic.blogURL"}})],1),a("t-form-item",{attrs:{label:"Favicon",name:"blogFavicon"}},[a("t-input-group",{attrs:{separate:""}},[a("t-input",{style:{width:"500px"},model:{value:t.settings.basic.blogFavicon,callback:function(e){t.$set(t.settings.basic,"blogFavicon",e)},expression:"settings.basic.blogFavicon"}}),a("t-button",{attrs:{theme:"primary",shape:"square",variant:"outline"},on:{click:function(e){return t.openAttachSelectDrawer()}}},[a("image-icon",{attrs:{slot:"icon"},slot:"icon"})],1)],1)],1)],1)],1)]),a("t-tab-panel",{attrs:{value:"attachment"},scopedSlots:t._u([{key:"label",fn:function(){return[a("icon",{staticStyle:{"margin-right":"4px"},attrs:{name:"image"}}),t._v(" 附件设置 ")]},proxy:!0}])},[a("div",{staticClass:"settings-form-container"},[a("t-form",{ref:"form",attrs:{labelAlign:"top",colon:!0}},[a("t-form-item",{attrs:{label:"上传位置"}},[a("t-select",{attrs:{options:t.uploadTypeOptions},model:{value:t.settings.attachment.uploadType,callback:function(e){t.$set(t.settings.attachment,"uploadType",e)},expression:"settings.attachment.uploadType"}})],1),"qcloud_cos"===t.settings.attachment.uploadType?a("t-form-item",{attrs:{label:"secretID"}},[a("t-input",{model:{value:t.settings.attachment.qCloudCos.secretID,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"secretID",e)},expression:"settings.attachment.qCloudCos.secretID"}})],1):t._e(),"qcloud_cos"===t.settings.attachment.uploadType?a("t-form-item",{attrs:{label:"secretKey"}},[a("t-input",{model:{value:t.settings.attachment.qCloudCos.secretKey,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"secretKey",e)},expression:"settings.attachment.qCloudCos.secretKey"}})],1):t._e(),"qcloud_cos"===t.settings.attachment.uploadType?a("t-form-item",{attrs:{label:"域名"}},[a("t-input",{model:{value:t.settings.attachment.qCloudCos.domain,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"domain",e)},expression:"settings.attachment.qCloudCos.domain"}})],1):t._e(),"qcloud_cos"===t.settings.attachment.uploadType?a("t-form-item",{attrs:{label:"上传路径"}},[a("t-input",{attrs:{placeholder:"如：blog/images"},model:{value:t.settings.attachment.qCloudCos.path,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"path",e)},expression:"settings.attachment.qCloudCos.path"}})],1):t._e(),a("t-form-item",["qcloud_cos"===t.settings.attachment.uploadType?a("t-button",{on:{click:t.pingQcloudCos}},[t._v("测试连接")]):t._e()],1)],1)],1)])],1)],1)])],2)},n=[],o=a("dbb5"),i=a("fd99"),l=a("c8c3"),c={name:"Settings",data(){return{settings:{basic:{blogTitle:"",blogDescription:"",blogURL:"",blogFavicon:""},attachment:{uploadType:"local",qCloudCos:{secretID:"",secretKey:"",domain:"",path:""}}},uploadTypeOptions:[{value:"local",label:"本地"},{value:"qcloud_cos",label:"腾讯云 COS"}]}},methods:{pingQcloudCos(){this.$request.post("upload/qcloudcos/ping",this.settings.attachment.qCloudCos).then(()=>{this.$message.success("连接成功")})},onClickSave(){this.$request.put("settings",this.settings).then(()=>{this.$message.success("保存成功")})},fetchSettings(){this.$request.get("settings").then(t=>{this.settings=t.data})},openAttachSelectDrawer(){this.$message.info("未实现")}},beforeMount(){this.fetchSettings()},components:{Icon:o["a"],ImageIcon:i["a"],PageView:l["a"]}},r=c,p=(a("d2d9"),a("2c33")),u=Object(p["a"])(r,s,n,!1,null,"25fed4ca",null);e["default"]=u.exports},c54d:function(t,e,a){},d2d9:function(t,e,a){"use strict";a("c54d")},fd99:function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var s=a("f36d"),n=a("303e"),o=a("d04a"),i=a("3751"),l=a("7a1d"),c=(a("11bc"),a("e8f6"),["size"]);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10 8a2 2 0 100-4 2 2 0 000 4zm0-1a1 1 0 100-2 1 1 0 000 2z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}},{tag:"path",attrs:{fill:"currentColor",d:"M2 13a1 1 0 001 1h10a1 1 0 001-1V3a1 1 0 00-1-1H3a1 1 0 00-1 1v10zm1-1.3l3-3 4.3 4.3H3v-1.3zm0-1.4V3h10v10h-1.3L6 7.3l-3 3z",fillOpacity:.9}}]},g=o["default"].extend({name:"ImageIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(t,e){var a=e.props,s=e.data,o=a.size,r=Object(n["a"])(a,c),g=Object(l["a"])(o),d=g.className,m=g.style,b=p(p({},r||{}),{},{id:"image",icon:u,staticClass:d,style:m});return s.props=b,t(i["a"],s)}})}}]);
//# sourceMappingURL=chunk-0fd9d692.0e95c729.js.map