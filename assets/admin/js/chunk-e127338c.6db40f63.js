(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e127338c"],{"8f3a":function(t,e,s){},"9a22":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("PageView",[s("template",{slot:"header"},[s("div",{staticClass:"page-header-bar"},[s("div",{staticClass:"page-header-bar-text"},[s("span",{staticClass:"page-header-bar-title"},[t._v("基础设置")])]),s("span",{staticClass:"page-header-bar-operator"},[s("span",{staticClass:"page-header-bar-operator-item"},[s("t-button",{attrs:{theme:"primary",variant:"base"},on:{click:t.onClickSave}},[t._v("保存设置")])],1)])])]),s("template",{slot:"content"},[s("div",{staticClass:"settings-container"},[s("t-tabs",{attrs:{defaultValue:"basic"}},[s("t-tab-panel",{attrs:{value:"basic"},scopedSlots:t._u([{key:"label",fn:function(){return[s("icon",{staticStyle:{"margin-right":"4px"},attrs:{name:"setting"}}),t._v(" 基本设置 ")]},proxy:!0}])},[s("div",{staticClass:"settings-form-container"},[s("t-form",{ref:"form",attrs:{labelAlign:"top",colon:!0}},[s("t-form-item",{attrs:{label:"博客标题",name:"blogTitle"}},[s("t-input",{model:{value:t.settings.basic.blogTitle,callback:function(e){t.$set(t.settings.basic,"blogTitle",e)},expression:"settings.basic.blogTitle"}})],1),s("t-form-item",{attrs:{label:"博客简介",name:"blogDescription"}},[s("t-textarea",{attrs:{placeholder:"一句简短的话描述你的博客",autosize:{minRows:2}},model:{value:t.settings.basic.blogDescription,callback:function(e){t.$set(t.settings.basic,"blogDescription",e)},expression:"settings.basic.blogDescription"}})],1),s("t-form-item",{attrs:{label:"博客地址",name:"blogURL"}},[s("t-input",{attrs:{placeholder:"http://"},model:{value:t.settings.basic.blogURL,callback:function(e){t.$set(t.settings.basic,"blogURL",e)},expression:"settings.basic.blogURL"}})],1),s("t-form-item",{attrs:{label:"Favicon",name:"blogFavicon"}},[s("t-input-group",{attrs:{separate:""}},[s("t-input",{style:{width:"500px"},model:{value:t.settings.basic.blogFavicon,callback:function(e){t.$set(t.settings.basic,"blogFavicon",e)},expression:"settings.basic.blogFavicon"}}),s("t-button",{attrs:{theme:"primary",shape:"square",variant:"outline"},on:{click:function(e){return t.openAttachSelectDrawer()}}},[s("image-icon",{attrs:{slot:"icon"},slot:"icon"})],1)],1)],1)],1)],1)]),s("t-tab-panel",{attrs:{value:"attachment"},scopedSlots:t._u([{key:"label",fn:function(){return[s("icon",{staticStyle:{"margin-right":"4px"},attrs:{name:"image"}}),t._v(" 附件设置 ")]},proxy:!0}])},[s("div",{staticClass:"settings-form-container"},[s("t-form",{ref:"form",attrs:{labelAlign:"top",colon:!0}},[s("t-form-item",{attrs:{label:"上传位置"}},[s("t-select",{attrs:{options:t.uploadTypeOptions},model:{value:t.settings.attachment.uploadType,callback:function(e){t.$set(t.settings.attachment,"uploadType",e)},expression:"settings.attachment.uploadType"}})],1),"qcloud_cos"===t.settings.attachment.uploadType?s("t-form-item",{attrs:{label:"secretID"}},[s("t-input",{model:{value:t.settings.attachment.qCloudCos.secretID,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"secretID",e)},expression:"settings.attachment.qCloudCos.secretID"}})],1):t._e(),"qcloud_cos"===t.settings.attachment.uploadType?s("t-form-item",{attrs:{label:"secretKey"}},[s("t-input",{model:{value:t.settings.attachment.qCloudCos.secretKey,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"secretKey",e)},expression:"settings.attachment.qCloudCos.secretKey"}})],1):t._e(),"qcloud_cos"===t.settings.attachment.uploadType?s("t-form-item",{attrs:{label:"域名"}},[s("t-input",{model:{value:t.settings.attachment.qCloudCos.domain,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"domain",e)},expression:"settings.attachment.qCloudCos.domain"}})],1):t._e(),"qcloud_cos"===t.settings.attachment.uploadType?s("t-form-item",{attrs:{label:"上传路径"}},[s("t-input",{attrs:{placeholder:"如：blog/images"},model:{value:t.settings.attachment.qCloudCos.path,callback:function(e){t.$set(t.settings.attachment.qCloudCos,"path",e)},expression:"settings.attachment.qCloudCos.path"}})],1):t._e(),s("t-form-item",["qcloud_cos"===t.settings.attachment.uploadType?s("t-button",{on:{click:t.pingQcloudCos}},[t._v("测试连接")]):t._e()],1)],1)],1)])],1)],1)])],2)},o=[],n=s("f646"),i=s("c8e4"),l=s("c8c3"),c={name:"Settings",data(){return{settings:{basic:{blogTitle:"",blogDescription:"",blogURL:"",blogFavicon:""},attachment:{uploadType:"local",qCloudCos:{secretID:"",secretKey:"",domain:"",path:""}}},uploadTypeOptions:[{value:"local",label:"本地"},{value:"qcloud_cos",label:"腾讯云 COS"}]}},methods:{pingQcloudCos(){this.$request.post("upload/qcloudcos/ping",this.settings.attachment.qCloudCos).then(()=>{this.$message.success("连接成功")})},onClickSave(){this.$request.put("settings",this.settings).then(()=>{this.$message.success("保存成功")})},fetchSettings(){this.$request.get("settings").then(t=>{this.settings=t.data})},openAttachSelectDrawer(){this.$message.info("未实现")}},beforeMount(){this.fetchSettings()},components:{Icon:n["a"],ImageIcon:i["a"],PageView:l["a"]}},r=c,u=(s("d2d9"),s("2877")),p=Object(u["a"])(r,a,o,!1,null,"25fed4ca",null);e["default"]=p.exports},d2d9:function(t,e,s){"use strict";s("8f3a")}}]);
//# sourceMappingURL=chunk-e127338c.6db40f63.js.map