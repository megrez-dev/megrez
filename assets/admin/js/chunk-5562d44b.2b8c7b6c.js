(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5562d44b"],{"38ec":function(e,t,a){},b12b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageView",[a("template",{slot:"header"},[a("div",{staticClass:"page-header-bar"},[a("div",{staticClass:"page-header-bar-text"},[a("span",{staticClass:"page-header-bar-title"},[e._v("当前主题")]),a("span",{staticClass:"page-header-bar-description"},[e._v(e._s(e.currentTheme))])]),a("span",{staticClass:"page-header-bar-operator"},[a("span",{staticClass:"page-header-bar-operator-item"},[a("t-button",{attrs:{theme:"primary",variant:"base"},on:{click:e.onClickSave}},[e._v("保存设置")])],1)])])]),a("template",{slot:"content"},[a("div",{staticClass:"theme-setting-container"},[0!=e.themeConfig.tabs.length?a("t-tabs",{attrs:{defaultValue:e.themeConfig.tabs[0].key}},e._l(e.themeConfig.tabs,(function(t){return a("t-tab-panel",{key:t.key,attrs:{value:t.key},scopedSlots:e._u([{key:"label",fn:function(){return[a("icon",{staticStyle:{"margin-right":"4px"},attrs:{name:"setting"}}),e._v(" "+e._s(t.name)+" ")]},proxy:!0}],null,!0)},[a("div",{staticClass:"setting-form-container"},[a("t-form",{ref:"form",refInFor:!0,attrs:{labelAlign:"top",colon:!0}},e._l(t.items,(function(s){return a("t-form-item",{key:s.key,attrs:{label:s.name,name:s.key,help:s.description}},["input"===s.type?a("t-input",{attrs:{placeholder:s.placeholder},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}):e._e(),"textarea"===s.type?a("t-textarea",{attrs:{placeholder:s.placeholder,name:s.key,autosize:{minRows:6}},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}):e._e(),"select"===s.type?a("t-select",{attrs:{options:s.options},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}):e._e(),"multiSelect"===s.type?a("t-select",{attrs:{multiple:"",minCollapsedNum:3,options:s.options},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}):e._e(),"switch"===s.type?a("t-switch",{model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}):e._e(),"tags"===s.type?a("t-tag-input",{attrs:{clearable:""},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}):e._e(),"image"===s.type?a("t-input-group",{attrs:{separate:""}},[a("t-input",{style:{width:"500px"},attrs:{placeholder:s.placeholder},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}}),a("t-button",{attrs:{theme:"primary",shape:"square",variant:"outline"},on:{click:function(a){return e.openAttachSelectDrawer(t,s)}}},[a("image-icon",{attrs:{slot:"icon"},slot:"icon"})],1)],1):e._e()],1)})),1)],1)])})),1):e._e(),a("AttachSelectDrawer",{ref:"attachSelectDrawer",on:{select:e.selectAttach}})],1)])],2)},n=[],i=a("dbb5"),r=a("f36d"),l=a("303e"),c=a("d04a"),o=a("3751"),h=a("7a1d"),u=(a("11bc"),a("e8f6"),["size"]);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10 8a2 2 0 100-4 2 2 0 000 4zm0-1a1 1 0 100-2 1 1 0 000 2z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}},{tag:"path",attrs:{fill:"currentColor",d:"M2 13a1 1 0 001 1h10a1 1 0 001-1V3a1 1 0 00-1-1H3a1 1 0 00-1 1v10zm1-1.3l3-3 4.3 4.3H3v-1.3zm0-1.4V3h10v10h-1.3L6 7.3l-3 3z",fillOpacity:.9}}]},d=c["default"].extend({name:"ImageIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,s=t.data,n=a.size,i=Object(l["a"])(a,u),r=Object(h["a"])(n),c=r.className,p=r.style,d=m(m({},i||{}),{},{id:"image",icon:f,staticClass:c,style:p});return s.props=d,e(o["a"],s)}}),b=a("f06c"),g=a("c8c3"),v={name:"ThemeSetting",data(){return{themeConfig:{tabs:[]},currentTheme:"",selectedAttachTabIndex:0,selectedAttachItemIndex:0}},methods:{openAttachSelectDrawer(e,t){this.$refs.attachSelectDrawer.open(),this.selectedAttachTabIndex=this.themeConfig.tabs.indexOf(e),this.selectedAttachItemIndex=this.themeConfig.tabs[this.selectedAttachTabIndex].items.indexOf(t)},onClickSave(){this.$request.put("/theme/current/config",this.themeConfig).then(()=>{this.$message.success("保存成功")}).catch(()=>{this.$message.error("保存失败")})},fetchConfig(){this.$request.get("/theme/current/config").then(e=>{for(let t=0;t<this.themeConfig.tabs.length;t++)for(let e=0;e<this.themeConfig.tabs[t].items.length;e++)"multiSelect"!==this.themeConfig.tabs[t].items[e].type&&"tags"!==this.themeConfig.tabs[t].items[e].type||(this.themeConfig.tabs[t].items[e].value=[]);this.themeConfig=e.data})},fetchTheme(){this.$request.get("/theme/current/id").then(e=>{this.currentTheme=e.data})},selectAttach(e){this.themeConfig.tabs[this.selectedAttachTabIndex].items[this.selectedAttachItemIndex].value=e.url}},beforeMount(){this.fetchConfig(),this.fetchTheme()},components:{Icon:i["a"],ImageIcon:d,AttachSelectDrawer:b["a"],PageView:g["a"]}},y=v,C=(a("e0a8"),a("2c33")),w=Object(C["a"])(y,s,n,!1,null,"13868432",null);t["default"]=w.exports},e0a8:function(e,t,a){"use strict";a("38ec")}}]);
//# sourceMappingURL=chunk-5562d44b.2b8c7b6c.js.map